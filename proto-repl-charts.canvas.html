<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>proto-repl-charts.canvas documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Proto-repl-charts</span> <span class="project-version">0.3.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 branch"><a href="prc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>prc</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>proto-repl-charts</span></div></div></li><li class="depth-2 branch current"><a href="proto-repl-charts.canvas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>canvas</span></div></a></li><li class="depth-2 branch"><a href="proto-repl-charts.charts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>charts</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>examples</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>canvas</span></div></div></li><li class="depth-4 branch"><a href="proto-repl-charts.examples.canvas.l-system.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>l-system</span></div></a></li><li class="depth-4"><a href="proto-repl-charts.examples.canvas.rotating-polygon.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rotating-polygon</span></div></a></li><li class="depth-2 branch"><a href="proto-repl-charts.graph.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>graph</span></div></a></li><li class="depth-2 branch"><a href="proto-repl-charts.table.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table</span></div></a></li><li class="depth-2"><a href="proto-repl-charts.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-clear"><div class="inner"><span>clear</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-clear-rect"><div class="inner"><span>clear-rect</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-command-set-error-msg"><div class="inner"><span>command-set-error-msg</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-draw"><div class="inner"><span>draw</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-fill-circle"><div class="inner"><span>fill-circle</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-fill-rect"><div class="inner"><span>fill-rect</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-fill-style"><div class="inner"><span>fill-style</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-font"><div class="inner"><span>font</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-height"><div class="inner"><span>height</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-line"><div class="inner"><span>line</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-line-width"><div class="inner"><span>line-width</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-partition-command-sets-xducer"><div class="inner"><span>partition-command-sets-xducer</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-rotate"><div class="inner"><span>rotate</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-stroke-circle"><div class="inner"><span>stroke-circle</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-stroke-polygon"><div class="inner"><span>stroke-polygon</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-stroke-rect"><div class="inner"><span>stroke-rect</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-stroke-style"><div class="inner"><span>stroke-style</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-text"><div class="inner"><span>text</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-text-align"><div class="inner"><span>text-align</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-transform-reset"><div class="inner"><span>transform-reset</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-translate"><div class="inner"><span>translate</span></div></a></li><li class="depth-1"><a href="proto-repl-charts.canvas.html#var-width"><div class="inner"><span>width</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">proto-repl-charts.canvas</h1><div class="doc"><pre class="plaintext">Defines functions for opening and drawing to an HTML canvas in Atom. See the
draw function for details.</pre></div><div class="public anchor" id="var-clear"><h3>clear</h3><div class="usage"><code>(clear name)</code></div><div class="doc"><pre class="plaintext">Clears the canvas with the given name.
</pre></div></div><div class="public anchor" id="var-clear-rect"><h3>clear-rect</h3><div class="usage"><code>(clear-rect)</code><code>(clear-rect x y height width)</code></div><div class="doc"><pre class="plaintext">Returns a command to clear the display.
</pre></div></div><div class="public anchor" id="var-command-set-error-msg"><h3>command-set-error-msg</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw"><h3>draw</h3><div class="usage"><code>(draw name)</code><code>(draw name command-sets)</code></div><div class="doc"><pre class="plaintext">Opens a new canvas with the given name or updates an existing canvas with the
given name. `draw` is a wrapper over the JavaScript API for the canvas 2d
context.

## High Level API

Draw takes a sequence of commands that instruct it what to draw. There are
functions in this namespace that return predefined commands to draw simple
objects like lines, rectangles, and circles.

This code would draw a thick black line over top of an outlined red circle.

(draw "Black Line and Red Circle"
      [(clear-rect)
       (stroke-style "red")
       (line-width 1)
       (stroke-circle 200 300 70)

       (stroke-style "black")
       (line-width 5)
       (line 100 200 400 400)])

## Low Level API

Draw takes any of the following:

* a command
* a sequence of commands (also called a command set)
* a sequence of command sets

A command is a vector containing the keyword identifying the function to call
on the Canvas 2d context along with the arguments that function takes. An
example command is `[:fillRect 10 10 100 100]` which is equivalent to the
JavaScript `ctx.fillRect(10, 10, 100, 100);` This would draw a filled in
rectangle from the upper left point 10,10 that's 100 pixels tall and 100
pixels wide.

The following link is a good reference for the functions available on the 2d
context: <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D">https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D</a>

Example:

 This code will draw a line from the point 1,1 to 100,100

 (draw "Simple Line")
   [[:beginPath]
    [:moveTo 1 1]
    [:lineTo 100 100]
    [:stroke]])

 That's equivalent to this JavaScript code.

 var ctx = canvas.getContext('2d');
 ctx.beginPath();
 ctx.moveTo(1,1);
 ctx.lineTo(100,100);
 ctx.stroke();

### Setting Values
Setting values on the context can be done via the :set command.

[:set :lineWidth 5] is equivalent to ctx.lineWidth = 5;</pre></div></div><div class="public anchor" id="var-fill-circle"><h3>fill-circle</h3><div class="usage"><code>(fill-circle x y radius)</code></div><div class="doc"><pre class="plaintext">Returns a command set to draw a filled in circle.
</pre></div></div><div class="public anchor" id="var-fill-rect"><h3>fill-rect</h3><div class="usage"><code>(fill-rect x y height width)</code></div><div class="doc"><pre class="plaintext">Returns a command set to draw a filled in rectangle.
</pre></div></div><div class="public anchor" id="var-fill-style"><h3>fill-style</h3><div class="usage"><code>(fill-style str)</code></div><div class="doc"><pre class="plaintext">Returns a command to set the fill style such as the color. Example 'gray' or
'#808080'. See <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">https://developer.mozilla.org/en-US/docs/Web/CSS/color_value</a>
 Pass to the draw command to apply to future commands.</pre></div></div><div class="public anchor" id="var-font"><h3>font</h3><div class="usage"><code>(font str)</code></div><div class="doc"><pre class="plaintext">Returns a command to set the font. Example "10px sans-serif" Pass to the
draw command to apply to future commands.</pre></div></div><div class="public anchor" id="var-height"><h3>height</h3><div class="usage"><code>(height name)</code></div><div class="doc"><pre class="plaintext">Returns the height of the named canvas. Note the canvas must have been previously
opened for this to work.</pre></div></div><div class="public anchor" id="var-line"><h3>line</h3><div class="usage"><code>(line x1 y1 x2 y2)</code></div><div class="doc"><pre class="plaintext">Returns a command set to draw a line between the two points.
</pre></div></div><div class="public anchor" id="var-line-width"><h3>line-width</h3><div class="usage"><code>(line-width w)</code></div><div class="doc"><pre class="plaintext">Returns a command set to set the line width. Pass to the draw command to apply
to future commands.</pre></div></div><div class="public anchor" id="var-partition-command-sets-xducer"><h3>partition-command-sets-xducer</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A transducer that concatenates together command sets, validates them, and
then splits the command set into sets of 100 commands to send at a time to
GUI side for drawing.</pre></div></div><div class="public anchor" id="var-rotate"><h3>rotate</h3><div class="usage"><code>(rotate angle)</code></div><div class="doc"><pre class="plaintext">Returns a command set to add a rotation to the transformation matrix. angle
is expressed in radians.</pre></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><div class="usage"><code>(scale size)</code><code>(scale x y)</code></div><div class="doc"><pre class="plaintext">Returns a command set to add a scaling transformation to the canvas units by x
horizontally and by y vertically. If one argument is provided they're both
scaled evenly.</pre></div></div><div class="public anchor" id="var-stroke-circle"><h3>stroke-circle</h3><div class="usage"><code>(stroke-circle x y radius)</code></div><div class="doc"><pre class="plaintext">Returns a command set to draw the outline of a circle.
</pre></div></div><div class="public anchor" id="var-stroke-polygon"><h3>stroke-polygon</h3><div class="usage"><code>(stroke-polygon points)</code></div><div class="doc"><pre class="plaintext">Returns a commands set to draw a polygon connecting the given points. points
is a vector of tuples of x and y for each point.</pre></div></div><div class="public anchor" id="var-stroke-rect"><h3>stroke-rect</h3><div class="usage"><code>(stroke-rect x y height width)</code></div><div class="doc"><pre class="plaintext">Returns a command set to draw the outline of a rectangle.
</pre></div></div><div class="public anchor" id="var-stroke-style"><h3>stroke-style</h3><div class="usage"><code>(stroke-style str)</code></div><div class="doc"><pre class="plaintext">Returns a command to set the stroke style such as the color. Example 'gray' or
'#808080'. See <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">https://developer.mozilla.org/en-US/docs/Web/CSS/color_value</a>
 Pass to the draw command to apply to future commands.</pre></div></div><div class="public anchor" id="var-text"><h3>text</h3><div class="usage"><code>(text string x y)</code></div><div class="doc"><pre class="plaintext">Creates a command set to draw some text at the given point.
</pre></div></div><div class="public anchor" id="var-text-align"><h3>text-align</h3><div class="usage"><code>(text-align str)</code></div><div class="doc"><pre class="plaintext">Returns a command to set the text alignment. Valid values 'start', 'end',
'left', 'right' or 'center'. Pass to the draw command to apply to future
commands.</pre></div></div><div class="public anchor" id="var-transform-reset"><h3>transform-reset</h3><div class="usage"><code>(transform-reset)</code></div><div class="doc"><pre class="plaintext">Returns a command set to resets the transformations using the identity matrix
</pre></div></div><div class="public anchor" id="var-translate"><h3>translate</h3><div class="usage"><code>(translate x y)</code></div><div class="doc"><pre class="plaintext">Returns a command set to add a translation transformation by moving the canvas
and its origin x horizontally and y vertically.</pre></div></div><div class="public anchor" id="var-width"><h3>width</h3><div class="usage"><code>(width name)</code></div><div class="doc"><pre class="plaintext">Returns the width of the named canvas. Note the canvas must have been previously
opened for this to work.</pre></div></div></div></body></html>